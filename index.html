<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Daniel Mehta - ML Engineer</title>
    <meta name="description" content="Resume-style portfolio. Projects, experience, skills, and contact for Daniel Mehta." />
    <link rel="icon" href="data:," />
    <style>
      :root {
        --mx: 980px;
        --fg: #111;
        --muted: #333;
        --line: #eaeaea;
        --bg: #fff;
        --chip: #f5f7fb;
      }
      * { box-sizing: border-box; }
      html, body { margin: 0; padding: 0; background: var(--bg); color: var(--fg); font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      a { color: inherit; text-decoration: underline; }
      header { max-width: var(--mx); margin: 0 auto; padding: 48px 20px 12px; }
      h1 { font-size: 36px; letter-spacing: -0.02em; margin: 0 0 6px; }
      .tag { color: var(--muted); margin: 0 0 10px; }
      nav { display: flex; flex-wrap: wrap; gap: 14px; border-top: 1px solid var(--line); border-bottom: 1px solid var(--line); padding: 10px 0; }
      nav a { text-decoration: none; color: #333; padding: 6px 10px; border-radius: 8px; background: #fafafa; border: 1px solid var(--line); }
      main { max-width: var(--mx); margin: 0 auto; padding: 20px; }
      section { padding: 18px 0 8px; }
      h2 { font-size: 20px; letter-spacing: -0.01em; margin: 0 0 8px; }
      .grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
      @media (min-width: 800px) { .grid { grid-template-columns: 1fr 1fr; } }
      .card { border: 1px solid var(--line); border-radius: 14px; padding: 14px; background: var(--bg); }
      .row { display: flex; justify-content: space-between; gap: 10px; align-items: baseline; }
      .when { color: var(--muted); font-size: 14px; white-space: nowrap; }
      ul { margin: 8px 0 0 18px; }
      .chips { display: flex; flex-wrap: wrap; gap: 8px; }
      .chip { background: var(--chip); border: 1px solid var(--line); padding: 6px 10px; border-radius: 999px; font-size: 14px; }
      .contact { display: flex; flex-wrap: wrap; gap: 12px; color: var(--muted); }
      .muted { color: var(--muted); }
      .pill { display: inline-block; font-size: 12px; padding: 2px 8px; border: 1px solid var(--line); border-radius: 999px; background: #fafafa; }
      .stack { font-size: 14px; color: var(--muted); }

      /* Effects */
      html { scroll-behavior: smooth; }
      .reveal { opacity: 0; transform: translateY(8px); transition: opacity .4s ease, transform .4s ease; }
      .reveal.show { opacity: 1; transform: none; }
      nav a { transition: background .2s ease, color .2s ease, border-color .2s ease; }
      nav a.active { background: #111; color: #fff; border-color: #111; }
      .card { transition: transform .2s ease, box-shadow .2s ease; }
      .card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,.06); }

      /* Sketch floaters */
      #floaters { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 5; }
      #floaters img { position: absolute; opacity: .9; filter: drop-shadow(0 4px 8px rgba(0,0,0,.08)); }
      .sketch-toolbar { display: flex; flex-wrap: wrap; align-items: center; gap: 10px; margin-bottom: 10px; }
      #sketchpad { touch-action: none; }

      /* Places map */
      #visited-map { height: 340px; border: 1px solid var(--line); border-radius: 10px; background: #fff; }

      /* Theme toggle */
      .theme-toggle { margin-top: 10px; margin-left: 8px; cursor: pointer; }
      [data-theme="dark"] {
        --fg: #e9e9e9;
        --bg: #111;
        --muted: #aaa;
        --line: #2a2a2a;
        --chip: #1a1a1a;
      }
      [data-theme="dark"] nav a { background: #171717; border-color: var(--line); color: var(--fg); }
      [data-theme="dark"] nav a.active { background: #e9e9e9; color: #111; border-color: #e9e9e9; }
      [data-theme="dark"] .card { background: var(--bg); }
      [data-theme="dark"] #visited-map { background: #0f0f0f; border-color: var(--line); }
    </style>
  </head>
  <body>
    <header>
      <h1>Daniel Mehta</h1>
      <p class="tag">Machine Learning Engineer - Toronto</p>
      <div class="contact">
        <a href="mailto:daniel.k.mehta@gmail.com">daniel.k.mehta@gmail.com</a>
        <span>•</span>
        <a href="https://linkedin.com/in/dan-mehta" target="_blank" rel="noopener">LinkedIn</a>
        <span>•</span>
        <a href="https://github.com/daniel-mehta" target="_blank" rel="noopener">GitHub</a>
      </div>
      <nav>
        <a href="#projects">Projects</a>
        <a href="#experience">Experience</a>
        <a href="#skills">Skills</a>
        <a href="#education">Education</a>
        <a href="#places">Places</a>
        <a href="#sketch">Sketch</a>
        <a href="#contact">Contact</a>
      </nav>
      <button id="theme-toggle" class="pill theme-toggle" aria-label="Toggle dark mode">Dark</button>
    </header>

    <main>
      <section id="projects">
        <h2>Featured projects</h2>
        <div class="grid">
          <article class="card">
            <div class="row"><strong>LLM + GNN Renewable Energy Pipeline</strong><span class="when">2025</span></div>
            <p class="stack">MoFlow, DimeNet++, Python</p>
            <ul>
              <li>Built molecular generation and property prediction workflow with LLM assistance.</li>
              <li>Automated PDF-to-CSV agent flow with Playwright for multi-method submissions.</li>
            </ul>
            <p><a href="https://oraclelens.com/home" target="_blank" rel="noopener">Project overview</a></p>
          </article>

          <article class="card">
            <div class="row"><strong>Context-Aware Anime Recommender</strong><span class="when">2025</span></div>
            <p class="stack">Python, PyTorch, Streamlit - SASRec</p>
            <ul>
              <li>Sequential recommender with feedback embeddings and explainable outputs.</li>
            </ul>
            <p><a href="https://github.com/daniel-mehta/Context-Aware-Anime-Recommender" target="_blank" rel="noopener">Repository</a></p>
          </article>

          <article class="card">
            <div class="row"><strong>CooperLM-354M - Custom GPT-2 Language Model</strong><span class="when">2025</span></div>
            <p class="stack">Python, Hugging Face</p>
            <ul>
              <li>Trained 354M parameter model on curated corpora for downstream integration.</li>
            </ul>
            <p><a href="https://huggingface.co/mehta/CooperLM-354M" target="_blank" rel="noopener">Model card</a></p>
          </article>

          <article class="card">
            <div class="row"><strong>Salary Predictor - Multi-language ML pipeline</strong><span class="when">2024</span></div>
            <p class="stack">Julia, Go, Python, SQL</p>
            <ul>
              <li>Cross-language training plus Go web UI with automated ETL and SQLite.</li>
            </ul>
            <p><a href="https://github.com/daniel-mehta/Salary-Predictor" target="_blank" rel="noopener">Repository</a></p>
          </article>

          <article class="card">
            <div class="row"><strong>BNART - Q-learning for Urban Traffic</strong><span class="when">2024</span></div>
            <p class="stack">Python, RL</p>
            <ul>
              <li>Custom Q-learning to improve pathfinding and signal timing across 500-plus scenarios.</li>
            </ul>
            <p><a href="https://github.com/daniel-mehta/Traffic-Management-Q-Learning" target="_blank" rel="noopener">Repository</a></p>
          </article>
        </div>
      </section>

      <section id="experience">
        <h2>Experience</h2>
        <article class="card">
          <div class="row"><strong>Data Analyst Intern - Ontario Ministry of Education</strong><span class="when">May 2024 - Aug 2024 • Toronto</span></div>
          <ul>
            <li>Optimized SQL and VBA performance which improved data retrieval speed and responsiveness.</li>
            <li>Redesigned UIs via UX testing and Figma which improved stakeholder satisfaction significantly.</li>
            <li>Shipped on time through Agile collaboration across teams.</li>
          </ul>
        </article>
        <article class="card">
          <div class="row"><strong>Database Intern - DPCDSB</strong><span class="when">May 2023 - Aug 2023 • Mississauga</span></div>
          <ul>
            <li>Built inventory system for 150-plus buildings to streamline operations.</li>
            <li>Improved performance using eBase zero-code database with better integration.</li>
          </ul>
        </article>
        <article class="card">
          <div class="row"><strong>Data Research Specialist - Meter</strong><span class="when">Aug 2020 - Jan 2021 • Remote</span></div>
          <ul>
            <li>Improved database quality and engagement through targeted lead research and validation.</li>
          </ul>
        </article>
      </section>

      <section id="skills">
        <h2>Skills</h2>
        <div class="chips">
          <span class="chip">Python</span>
          <span class="chip">PyTorch</span>
          <span class="chip">TensorFlow</span>
          <span class="chip">Hugging Face</span>
          <span class="chip">LangChain</span>
          <span class="chip">FastAPI</span>
          <span class="chip">AWS SageMaker</span>
          <span class="chip">SQL</span>
          <span class="chip">PySpark</span>
          <span class="chip">Tableau</span>
          <span class="chip">React</span>
          <span class="chip">Unreal Engine 5</span>
        </div>
      </section>

      <section id="education">
        <h2>Education</h2>
        <div class="card">
          <div class="row"><strong>Graduate Certificate - AI with Machine Learning, Humber Polytechnic</strong><span class="when">Jan 2025 - Aug 2025 • Toronto</span></div>
          <p class="muted">Dean's Honour Roll</p>
        </div>
        <div class="card">
          <div class="row"><strong>BSc - Wilfrid Laurier University</strong><span class="when">2020 - 2024 • Waterloo</span></div>
          <p class="muted">Dean's Honour Roll 2021-2024</p>
        </div>
      </section>

      <section id="places">
        <h2>Places</h2>
        <div class="card">
          <p class="muted">Highlighted countries I have visited. Count: 16.</p>
          <div id="visited-map" aria-label="Visited countries map"></div>
          <details class="muted" style="margin-top:8px;"><summary>List</summary>
            <p>Portugal (Azores), France, Germany, Iceland, Italy, Malta, Spain, Vatican City, Canada, United States, Mexico, Aruba, Bahamas, Barbados, Belize, Dominican Republic</p>
          </details>
        </div>
      </section>

      <section id="sketch">
        <h2>Sketch</h2>
        <div class="card">
          <div class="sketch-toolbar">
            <label>Brush size <input type="range" id="brush" min="1" max="30" value="8"></label>
            <button id="sketch-clear" class="pill">Clear pad</button>
            <button id="sketch-submit" class="pill">Release drawing</button>
            <span class="muted" id="sketch-hint">Draw then release to let it float.</span>
          </div>
          <canvas id="sketchpad" style="width:100%; height:280px; display:block; border:1px solid var(--line); border-radius:10px; background:#fff;"></canvas>
        </div>
      </section>

      <section id="contact">
        <h2>Contact</h2>
        <p>Email <a href="mailto:daniel.k.mehta@gmail.com">daniel.k.mehta@gmail.com</a> or message me on <a href="https://linkedin.com/in/dan-mehta" target="_blank" rel="noopener">LinkedIn</a>.</p>
      </section>

    </main>

    <script>
      (function(){
        // Theme setup
        const root = document.documentElement;
        const themeBtn = document.getElementById('theme-toggle');
        const storedTheme = localStorage.getItem('theme');
        const sysDark = window.matchMedia('(prefers-color-scheme: dark)');
        function applyTheme(t){
          if (t === 'dark') root.setAttribute('data-theme','dark'); else root.removeAttribute('data-theme');
          localStorage.setItem('theme', t);
          if (themeBtn) themeBtn.textContent = t === 'dark' ? 'Light' : 'Dark';
          // Rebuild map to apply theme-specific styles
          if (window.worldMap) rebuildMap();
        }
        applyTheme(storedTheme || (sysDark.matches ? 'dark' : 'light'));
        sysDark.addEventListener('change', (e)=>{ if (!storedTheme) applyTheme(e.matches ? 'dark' : 'light'); });
        if (themeBtn) themeBtn.addEventListener('click', ()=>{
          const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
          applyTheme(next);
        });

        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

        // Reveal on scroll
        const toReveal = Array.from(document.querySelectorAll('article.card, section h2'));
        if (!prefersReduced && 'IntersectionObserver' in window) {
          toReveal.forEach(el => el.classList.add('reveal'));
          const io = new IntersectionObserver((entries, obs) => {
            entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); obs.unobserve(e.target); } });
          }, { rootMargin: '0px 0px -10% 0px', threshold: 0.1 });
          toReveal.forEach(el => io.observe(el));
        }

        // Active nav highlight
        const sections = Array.from(document.querySelectorAll('main section'));
        const links = Array.from(document.querySelectorAll('nav a'));
        const linkFor = id => links.find(a => a.getAttribute('href') === '#' + id);
        if ('IntersectionObserver' in window) {
          const navIO = new IntersectionObserver((entries) => {
            entries.forEach(ent => {
              const link = linkFor(ent.target.id);
              if (!link) return;
              if (ent.isIntersecting) { links.forEach(a => a.classList.remove('active')); link.classList.add('active'); }
            });
          }, { rootMargin: '-40% 0px -50% 0px', threshold: 0.01 });
          sections.forEach(s => navIO.observe(s));
        }

        // Smooth scroll fallback for nav clicks
        const nav = document.querySelector('nav');
        if (nav) nav.addEventListener('click', (e) => {
          const a = e.target.closest('a[href^="#"]');
          if (!a) return;
          const id = a.getAttribute('href').slice(1);
          const el = document.getElementById(id);
          if (!el) return;
          e.preventDefault();
          el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        // Shortcut: g then p jumps to Projects
        let lastKey = 0;
        window.addEventListener('keydown', (e) => {
          const k = e.key.toLowerCase();
          if (k === 'g') lastKey = Date.now();
          if (k === 'p' && Date.now() - lastKey < 800) { const el = document.getElementById('projects'); if (el) el.scrollIntoView({ behavior: 'smooth' }); }
        });

        // Floating drawings overlay
        const overlay = document.createElement('div');
        overlay.id = 'floaters';
        document.body.appendChild(overlay);
        let vw = window.innerWidth, vh = window.innerHeight;
        window.addEventListener('resize', () => { vw = window.innerWidth; vh = window.innerHeight; });
        const floats = [];
        function addFloater(src) {
          const img = new Image(); img.src = src; img.decoding = 'async'; img.alt = 'User sketch'; img.style.willChange = 'transform';
          overlay.appendChild(img);
          const w = Math.floor(80 + Math.random()*100); const h = w;
          let x = Math.random()*(vw - w); let y = Math.random()*(vh - h);
          let vx = (Math.random()*0.6 + 0.2) * (Math.random() < 0.5 ? -1 : 1);
          let vy = (Math.random()*0.6 + 0.2) * (Math.random() < 0.5 ? -1 : 1);
          let r = Math.random()*360; let vr = (Math.random()*0.3 - 0.15);
          if (prefersReduced) { vx = 0; vy = 0; vr = 0; }
          const f = { el: img, x, y, w, h, vx, vy, r, vr };
          floats.push(f);
          if (floats.length > 16) { const old = floats.shift(); if (old && old.el && old.el.parentNode) old.el.parentNode.removeChild(old.el); }
        }
        function animate(){
          for (const f of floats) {
            f.x += f.vx; f.y += f.vy; f.r += f.vr;
            if (f.x < 0 || f.x > vw - f.w) { f.vx *= -1; f.x = Math.max(0, Math.min(f.x, vw - f.w)); }
            if (f.y < 0 || f.y > vh - f.h) { f.vy *= -1; f.y = Math.max(0, Math.min(f.y, vh - f.h)); }
            f.el.style.width = f.w + 'px'; f.el.style.height = f.h + 'px'; f.el.style.transform = 'translate(' + f.x + 'px,' + f.y + 'px) rotate(' + f.r + 'deg)';
          }
          requestAnimationFrame(animate);
        }
        requestAnimationFrame(animate);

        // Sketchpad
        const pad = document.getElementById('sketchpad');
        const btnClear = document.getElementById('sketch-clear');
        const btnSubmit = document.getElementById('sketch-submit');
        const brush = document.getElementById('brush');
        if (pad && btnClear && btnSubmit) {
          const ctx = pad.getContext('2d');
          function resizeCanvas(){
            const dpr = Math.max(1, window.devicePixelRatio || 1);
            const rect = pad.getBoundingClientRect();
            pad.width = Math.floor(rect.width * dpr);
            pad.height = Math.floor(280 * dpr);
            ctx.setTransform(1,0,0,1,0,0); ctx.scale(dpr, dpr);
            ctx.lineCap = 'round'; ctx.lineJoin = 'round'; ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--fg').trim() || '#111';
          }
          resizeCanvas(); window.addEventListener('resize', resizeCanvas, { passive: true });
          let drawing = false; let last = { x: 0, y: 0 };
          function pos(e){ const rect = pad.getBoundingClientRect(); const p = e.touches ? e.touches[0] : e; return { x: p.clientX - rect.left, y: p.clientY - rect.top }; }
          function start(e){ drawing = true; last = pos(e); e.preventDefault(); }
          function move(e){ if (!drawing) return; const p = pos(e); ctx.lineWidth = Number(brush && brush.value || 8); ctx.beginPath(); ctx.moveTo(last.x, last.y); ctx.lineTo(p.x, p.y); ctx.stroke(); last = p; e.preventDefault(); }
          function end(e){ drawing = false; e.preventDefault(); }
          pad.addEventListener('pointerdown', start); pad.addEventListener('pointermove', move); pad.addEventListener('pointerup', end); pad.addEventListener('pointerleave', end); pad.addEventListener('pointercancel', end);
          btnClear.addEventListener('click', () => ctx.clearRect(0,0,pad.width, pad.height));
          btnSubmit.addEventListener('click', () => {
            const display = pad.getBoundingClientRect(); const outW = 200; const ratio = outW / display.width; const outH = Math.max(100, Math.round(display.height * ratio));
            const out = document.createElement('canvas'); out.width = outW; out.height = outH; const octx = out.getContext('2d');
            octx.fillStyle = '#fff'; octx.fillRect(0,0,outW,outH); octx.drawImage(pad, 0, 0, outW, outH);
            addFloater(out.toDataURL('image/png')); ctx.clearRect(0,0,pad.width, pad.height);
          });
        }

        // Places map
        const visitedCodes = ['PT','FR','DE','IS','IT','MT','ES','VA','CA','US','MX','AW','BS','BB','BZ','DO'];
        let mapReady = false; window.worldMap = null;
        function loadCSS(href){ return new Promise((res)=>{ const l=document.createElement('link'); l.rel='stylesheet'; l.href=href; l.onload=res; document.head.appendChild(l); if (l.sheet) res(); }); }
        function loadScript(src){ return new Promise((res, rej)=>{ const s=document.createElement('script'); s.src=src; s.onload=res; s.onerror=rej; document.head.appendChild(s); }); }

        function mapStylesFor(theme){
          const isDark = theme === 'dark';
          return {
            regionStyle: {
              initial: { fill: isDark ? '#2a2a2a' : '#e6e6e6' },
              hovered: { fill: isDark ? '#3a3a3a' : '#c6c6c6' },
              selected: { fill: isDark ? '#e9e9e9' : '#111' }
            },
            markersStyle: { initial: { r: 5, fill: isDark ? '#e9e9e9' : '#111', stroke: isDark ? '#111' : '#ffffff', 'stroke-width': 1 } }
          };
        }

        async function buildMap(){
          const container = document.getElementById('visited-map');
          if (!container) return;
          await loadCSS('https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/css/jsvectormap.min.css');
          await loadScript('https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3');
          await loadScript('https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/maps/world.js');
          if (!window.jsVectorMap) return;
          const theme = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
          const styles = mapStylesFor(theme);
          // eslint-disable-next-line no-undef
          window.worldMap = new jsVectorMap({
            selector: '#visited-map',
            map: 'world',
            zoomButtons: true,
            zoomOnScroll: true,
            zoomMax: 12,
            zoomAnimate: true,
            draggable: true,
            ...styles,
            selectedRegions: visitedCodes,
            markers: [
              { name: 'Malta', coords: [35.9375, 14.3754] },
              { name: 'Vatican City', coords: [41.9029, 12.4534] }
            ]
          });
          // Focus Malta so it is visible
          try { window.worldMap.setFocus({ coordinates: [35.9375, 14.3754], scale: 5, animate: true }); } catch(_) {}
        }

        function destroyMap(){
          const container = document.getElementById('visited-map');
          if (container) container.innerHTML = '';
          window.worldMap = null;
        }

        async function initMap(){
          if (mapReady) return; mapReady = true; await buildMap();
        }

        async function rebuildMap(){
          if (!mapReady) return;
          destroyMap();
          await buildMap();
        }

        // Lazy init when Places enters view
        const places = document.getElementById('places');
        if ('IntersectionObserver' in window && places) {
          const once = new IntersectionObserver((entries) => {
            entries.forEach(e => { if (e.isIntersecting) { initMap(); once.disconnect(); } });
          }, { rootMargin: '0px 0px -20% 0px', threshold: 0.1 });
          once.observe(places);
        } else {
          initMap();
        }

        // --- Self-checks to catch regressions ---
        console.assert(typeof rebuildMap === 'function', 'rebuildMap should be defined');
        console.assert(Array.isArray(visitedCodes) && visitedCodes.includes('MT'), 'visitedCodes must include Malta');
      })();
    </script>
  </body>
</html>
